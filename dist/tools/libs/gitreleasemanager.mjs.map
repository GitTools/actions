{"version":3,"file":"gitreleasemanager.mjs","sources":["../../../src/tools/gitreleasemanager/settings.ts","../../../src/tools/gitreleasemanager/tool.ts","../../../src/tools/gitreleasemanager/runner.ts"],"sourcesContent":["import { type ISettingsProvider, SettingsProvider } from '@tools/common'\nimport {\n    type AddAssetSettings,\n    type CloseSettings,\n    type CreateSettings,\n    type DiscardSettings,\n    type OpenSettings,\n    type PublishSettings,\n    type CommonSettings\n} from './models'\nexport interface IGitReleaseManagerSettingsProvider extends ISettingsProvider {\n    getCreateSettings(): CreateSettings\n\n    getDiscardSettings(): DiscardSettings\n\n    getCloseSettings(): CloseSettings\n\n    getOpenSettings(): OpenSettings\n\n    getPublishSettings(): PublishSettings\n\n    getAddAssetSettings(): AddAssetSettings\n\n    getCommonSettings(): CommonSettings\n}\n\nexport class GitReleaseManagerSettingsProvider extends SettingsProvider implements IGitReleaseManagerSettingsProvider {\n    getCreateSettings(): CreateSettings {\n        const name = this.buildAgent.getInput<CreateSettings>('name')\n        const inputFileName = this.buildAgent.getInput<CreateSettings>('inputFileName')\n        const isPreRelease = this.buildAgent.getBooleanInput<CreateSettings>('isPreRelease')\n        const commit = this.buildAgent.getInput<CreateSettings>('commit')\n        const assets = this.buildAgent.getListInput<CreateSettings>('assets')\n\n        const commonSettings = this.getCommonSettings()\n        return {\n            ...commonSettings,\n            name,\n            inputFileName,\n            isPreRelease,\n            commit,\n            assets\n        }\n    }\n\n    getDiscardSettings(): DiscardSettings {\n        const commonSettings = this.getCommonSettings()\n        return {\n            ...commonSettings\n        }\n    }\n\n    getCloseSettings(): CloseSettings {\n        const commonSettings = this.getCommonSettings()\n        return {\n            ...commonSettings\n        }\n    }\n\n    getOpenSettings(): OpenSettings {\n        const commonSettings = this.getCommonSettings()\n        return {\n            ...commonSettings\n        }\n    }\n\n    getPublishSettings(): PublishSettings {\n        const commonSettings = this.getCommonSettings()\n        return {\n            ...commonSettings\n        }\n    }\n\n    getAddAssetSettings(): AddAssetSettings {\n        const assets = this.buildAgent.getListInput<AddAssetSettings>('assets')\n\n        const commonSettings = this.getCommonSettings()\n        return {\n            ...commonSettings,\n            assets\n        }\n    }\n\n    getCommonSettings(): CommonSettings {\n        const milestone = this.buildAgent.getInput<CommonSettings>('milestone')\n        const owner = this.buildAgent.getInput<CommonSettings>('owner')\n        const repository = this.buildAgent.getInput<CommonSettings>('repository')\n        const token = this.buildAgent.getInput<CommonSettings>('token')\n        const targetDirectory = this.buildAgent.getInput<CommonSettings>('targetDirectory')\n        const logFilePath = this.buildAgent.getInput<CommonSettings>('logFilePath')\n\n        return {\n            owner,\n            repository,\n            token,\n            targetDirectory,\n            milestone,\n            logFilePath\n        }\n    }\n}\n","import * as path from 'path'\n\nimport { DotnetTool } from '@tools/common'\nimport { type ExecResult } from '@agents/common'\n\nimport {\n    type AddAssetSettings,\n    type CloseSettings,\n    type CreateSettings,\n    type DiscardSettings,\n    type OpenSettings,\n    type PublishSettings,\n    type CommonSettings\n} from './models'\nimport { GitReleaseManagerSettingsProvider, IGitReleaseManagerSettingsProvider } from './settings'\n\nexport class GitReleaseManagerTool extends DotnetTool {\n    get packageName(): string {\n        return 'GitReleaseManager.Tool'\n    }\n\n    get toolName(): string {\n        return 'dotnet-gitreleasemanager'\n    }\n\n    get toolPathVariable(): string {\n        return 'GITRELEASEMANAGER_PATH'\n    }\n\n    get versionRange(): string | null {\n        return '>=0.10.0 <0.20.0'\n    }\n\n    get settingsProvider(): IGitReleaseManagerSettingsProvider {\n        return new GitReleaseManagerSettingsProvider(this.buildAgent)\n    }\n\n    async create(): Promise<ExecResult> {\n        const settings = this.settingsProvider.getCreateSettings()\n        const args = await this.getCreateArguments(settings)\n\n        return await this.executeTool(args)\n    }\n\n    async discard(): Promise<ExecResult> {\n        const settings = this.settingsProvider.getDiscardSettings()\n        const args = await this.getDiscardArguments(settings)\n\n        return await this.executeTool(args)\n    }\n\n    async close(): Promise<ExecResult> {\n        const settings = this.settingsProvider.getCloseSettings()\n        const args = await this.getCloseArguments(settings)\n\n        return await this.executeTool(args)\n    }\n\n    async open(): Promise<ExecResult> {\n        const settings = this.settingsProvider.getOpenSettings()\n        const args = await this.getOpenArguments(settings)\n\n        return await this.executeTool(args)\n    }\n\n    async publish(): Promise<ExecResult> {\n        const settings = this.settingsProvider.getPublishSettings()\n        const args = await this.getPublishArguments(settings)\n\n        return await this.executeTool(args)\n    }\n\n    async addAsset(): Promise<ExecResult> {\n        const settings = this.settingsProvider.getAddAssetSettings()\n        const args = await this.getAddAssetArguments(settings)\n\n        return await this.executeTool(args)\n    }\n\n    protected async getCommonArguments(settings: CommonSettings): Promise<string[]> {\n        const args: string[] = []\n\n        args.push('--owner', settings.owner)\n        args.push('--repository', settings.repository)\n        args.push('--token', settings.token)\n\n        settings.targetDirectory = await this.getRepoDir(settings)\n\n        args.push('--targetDirectory', settings.targetDirectory)\n        args.push('--logFilePath', settings.logFilePath)\n\n        return args\n    }\n\n    protected async getCreateArguments(settings: CreateSettings): Promise<string[]> {\n        const args: string[] = ['create', ...(await this.getCommonArguments(settings))]\n\n        if (settings.milestone) {\n            args.push('--milestone', settings.milestone)\n        }\n        if (settings.name) {\n            args.push('--name', settings.name)\n        }\n        if (settings.commit) {\n            args.push('--targetcommitish', settings.commit)\n        }\n\n        if (settings.inputFileName) {\n            if (await this.buildAgent.fileExists(settings.inputFileName)) {\n                args.push('--inputFilePath', settings.inputFileName)\n            } else {\n                throw new Error(`GitReleaseManager inputFilePath not found at ${settings.inputFileName}`)\n            }\n        }\n        if (settings.isPreRelease) {\n            args.push('--pre')\n        }\n        if (settings.assets && settings.assets.length > 0) {\n            settings.assets = settings.assets.map(asset => {\n                return path.join(settings.targetDirectory, asset)\n            })\n\n            args.push('--assets', settings.assets.join(','))\n        }\n\n        return args\n    }\n\n    protected async getDiscardArguments(settings: DiscardSettings): Promise<string[]> {\n        const args: string[] = ['discard', ...(await this.getCommonArguments(settings))]\n\n        if (settings.milestone) {\n            args.push('--milestone', settings.milestone)\n        }\n\n        return args\n    }\n\n    protected async getCloseArguments(settings: CloseSettings): Promise<string[]> {\n        const args: string[] = ['close', ...(await this.getCommonArguments(settings))]\n\n        if (settings.milestone) {\n            args.push('--milestone', settings.milestone)\n        }\n\n        return args\n    }\n\n    protected async getOpenArguments(settings: OpenSettings): Promise<string[]> {\n        const args: string[] = ['open', ...(await this.getCommonArguments(settings))]\n\n        if (settings.milestone) {\n            args.push('--milestone', settings.milestone)\n        }\n\n        return args\n    }\n\n    protected async getPublishArguments(settings: PublishSettings): Promise<string[]> {\n        const args: string[] = ['publish', ...(await this.getCommonArguments(settings))]\n\n        if (settings.milestone) {\n            args.push('--tagName', settings.milestone)\n        }\n\n        return args\n    }\n\n    protected async getAddAssetArguments(settings: AddAssetSettings): Promise<string[]> {\n        const args: string[] = ['addasset', ...(await this.getCommonArguments(settings))]\n\n        if (settings.milestone) {\n            args.push('--tagName', settings.milestone)\n        }\n        if (settings.assets && settings.assets.length > 0) {\n            settings.assets = settings.assets.map(asset => {\n                return path.join(settings.targetDirectory, asset)\n            })\n\n            args.push('--assets', settings.assets.join(','))\n        }\n\n        return args\n    }\n\n    protected async getRepoDir(settings: CommonSettings): Promise<string> {\n        return await this.getRepoPath(settings.targetDirectory)\n    }\n}\n","import { type ExecResult, type IBuildAgent } from '@agents/common'\nimport { type IRunner } from '@tools/common'\nimport { type Commands } from './models'\nimport { GitReleaseManagerTool } from './tool'\n\nexport class Runner implements IRunner {\n    private readonly gitReleaseManagerTool: GitReleaseManagerTool\n\n    constructor(private readonly buildAgent: IBuildAgent) {\n        this.gitReleaseManagerTool = new GitReleaseManagerTool(this.buildAgent)\n    }\n\n    async run(command: Commands): Promise<ExecResult> {\n        switch (command) {\n            case 'setup':\n                return await this.setup()\n            case 'addasset':\n                return await this.addAsset()\n            case 'open':\n                return await this.open()\n            case 'close':\n                return await this.close()\n            case 'create':\n                return await this.create()\n            case 'discard':\n                return await this.discard()\n            case 'publish':\n                return await this.publish()\n        }\n    }\n\n    private async setup(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Installing GitReleaseManager')\n            const toolPath = await this.gitReleaseManagerTool.install()\n\n            const pathVariable = this.gitReleaseManagerTool.toolPathVariable\n            this.buildAgent.info(`Set ${pathVariable} to ${toolPath}`)\n            this.buildAgent.setVariable(pathVariable, toolPath)\n\n            this.buildAgent.setSucceeded('GitReleaseManager installed successfully', true)\n            return {\n                code: 0\n            }\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private async create(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Creating release')\n\n            const result = await this.gitReleaseManagerTool.create()\n\n            this.buildAgent.setSucceeded('GitReleaseManager created release successfully', true)\n            return result\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private async discard(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Discarding release')\n\n            const result = await this.gitReleaseManagerTool.discard()\n\n            this.buildAgent.setSucceeded('GitReleaseManager discarded release successfully', true)\n            return result\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private async close(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Closing release')\n\n            const result = await this.gitReleaseManagerTool.close()\n\n            this.buildAgent.setSucceeded('GitReleaseManager closed release successfully', true)\n            return result\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private async open(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Opening release')\n\n            const result = await this.gitReleaseManagerTool.open()\n\n            this.buildAgent.setSucceeded('GitReleaseManager opened release successfully', true)\n            return result\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private async publish(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Publishing release')\n\n            const result = await this.gitReleaseManagerTool.publish()\n\n            this.buildAgent.setSucceeded('GitReleaseManager published release successfully', true)\n            return result\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private async addAsset(): Promise<ExecResult> {\n        try {\n            this.disableTelemetry()\n\n            this.buildAgent.debug('Adding asset to release')\n\n            const result = await this.gitReleaseManagerTool.addAsset()\n\n            this.buildAgent.setSucceeded('GitReleaseManager added assets to release successfully', true)\n            return result\n        } catch (error) {\n            if (error instanceof Error) {\n                this.buildAgent.setFailed(error.message, true)\n            }\n            return {\n                code: -1,\n                error: error as Error\n            }\n        }\n    }\n\n    private disableTelemetry(): void {\n        this.buildAgent.info(`Running on: '${this.buildAgent.agentName}'`)\n        this.buildAgent.debug('Disabling telemetry')\n        this.gitReleaseManagerTool.disableTelemetry()\n    }\n}\n"],"names":[],"mappings":"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"}