name: 'Generate GitHub App Push Token'
description: 'Reusable action to generate a GitHub App token for push operations using actions/create-github-app-token.'
inputs:
  app-id:
    description: 'GitHub App ID'
    required: true
  private-key:
    description: 'GitHub App private key'
    required: true
runs:
  using: 'composite'
  steps:

    - name: Generate GitHub App Token
      id: app-token
      uses: actions/create-github-app-token@v2
      with:
        app-id: ${{ inputs.app-id }}
        private-key: ${{ inputs.private-key }}
        permission-actions: write
        permission-contents: write
        permission-workflows: write
        permission-members: read
        permission-metadata: read
